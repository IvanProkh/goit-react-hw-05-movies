{"version":3,"file":"static/js/631.7c69f0d6.chunk.js","mappings":"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","sources":["components/services/searchApi.js","pages/MovieDetails/MovieDetails.styled.js","pages/MovieDetails/MovieDetails.js"],"sourcesContent":["import axios from 'axios';\n\n// axios.defaults.baseURL = `https://api.themoviedb.org/3`;\n\nconst API_KEY = '9beeda1ea4aae4d04f0fe1c9b0b0fd1d';\nconst BASE_URL = 'https://api.themoviedb.org/3';\n\nconst IMG_BASE_URL = `https://image.tmdb.org/t/p`;\n\nexport const searchImages = poster => {\n  return poster !== null\n    ? `${IMG_BASE_URL}/w400${poster}`\n    : 'https://sd.keepcalms.com/i-w400/keep-calm-poster-not-found.jpg';\n};\n\nexport const searchCastImage = poster => {\n  return poster !== null\n    ? `${IMG_BASE_URL}/w200${poster}`\n    : 'https://sd.keepcalms.com/i-w400/keep-calm-poster-not-found.jpg';\n};\n\nexport async function searchMovies(query) {\n  const { data } = await axios.get(`${BASE_URL}/search/movie`, {\n    params: {\n      api_key: `${API_KEY}`,\n      language: 'en-US',\n      query: `${query}`,\n      include_adult: 'false',\n      // page: `${currentPage}`,\n    },\n  });\n\n  return data;\n}\n\nexport async function getTrending() {\n  const { data } = await axios.get(`${BASE_URL}/trending/movie/day`, {\n    params: {\n      api_key: `${API_KEY}`,\n      page: 1,\n    },\n  });\n  return data;\n}\n\nexport async function getMovieDetails(id) {\n  const { data } = await axios.get(`${BASE_URL}/movie/${id}`, {\n    params: {\n      api_key: `${API_KEY}`,\n      language: 'en-US',\n    },\n  });\n  return data;\n}\n\nexport async function getMovieCast(id) {\n  const { data } = await axios.get(`${BASE_URL}/movie/${id}/credits`, {\n    params: {\n      api_key: `${API_KEY}`,\n      language: 'en-US',\n    },\n  });\n  return data;\n}\n\nexport async function getMovieReviews(id) {\n  const { data } = await axios.get(`${BASE_URL}/movie/${id}/reviews`, {\n    params: {\n      api_key: `${API_KEY}`,\n      language: 'en-US',\n      page: 1,\n    },\n  });\n  return data;\n}\n","import styled from 'styled-components';\nimport { Link } from 'react-router-dom';\n\nexport const GoBackButtom = styled.button`\n  font-weight: bold;\n  font-size: 24px;\n  color: ${p => p.theme.colors.text};\n  background-color: ${p => p.theme.colors.bg_dark};\n  height: 48px;\n  width: 120px;\n  border-radius: 5px;\n  margin: 20px 0px 0px 160px;\n  border: ${p => p.theme.borders.none};\n  transition: ${p => p.theme.transition.cubicBezier};\n\n  &:hover {\n    transform: ${p => p.theme.transform.scaleThird};\n  }\n`;\n\nexport const MovieDetailsStyle = styled.div`\n  display: flex;\n  margin: 20px 160px;\n\n  img {\n    max-height: 400px;\n  }\n\n  & h2 {\n    color: ${p => p.theme.colors.primary};\n  }\n\n  & p {\n    margin: 20px 20px 20px 0px;\n    font-size: 18px;\n    text-align: justify;\n  }\n`;\n\nexport const MovieDetailsTitle = styled.span`\n  font-weight: bold;\n`;\n\nexport const NavList = styled.ul`\n  display: flex;\n\n  margin-left: 160px;\n  margin-right: 160px;\n`;\n\nexport const NavItemLink = styled(Link)`\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  font-weight: bold;\n  font-size: 24px;\n  background-color: ${p => p.theme.colors.bg_dark};\n  height: 48px;\n  width: 120px;\n  border-radius: 5px;\n  margin: 0 6px;\n  color: ${p => p.theme.colors.text};\n  border: ${p => p.theme.borders.none};\n  transition: ${p => p.theme.transition.cubicBezier};\n\n  &:hover {\n    transform: ${p => p.theme.transform.scaleThird};\n  }\n`;\n","import { useState, useEffect } from 'react';\nimport { Outlet, useNavigate, useParams, useLocation } from 'react-router-dom';\nimport {\n  getMovieDetails,\n  searchImages,\n} from '../../components/services/searchApi';\n\nimport { Box } from '../../components/Box';\nimport {\n  NavList,\n  MovieDetailsStyle,\n  MovieDetailsTitle,\n  GoBackButtom,\n  NavItemLink,\n} from './MovieDetails.styled';\n\nexport default function MovieDetails() {\n  const [movie, setMovie] = useState(null); // заменили [] на null для начального состояния\n  const { movieId } = useParams();\n  const navigate = useNavigate();\n  const location = useLocation();\n\n  useEffect(() => {\n    getMovieDetails(movieId)\n      .then(setMovie)\n      .catch(err => {\n        console.log('ошибка в муви', err);\n      });\n  }, [movieId]);\n\n  if (!movie) {\n    // заменили проверку на null\n    return null;\n  }\n\n  const { poster_path, title, vote_average, overview, genres, release_date } =\n    movie;\n\n  const imgPoster = searchImages(poster_path);\n\n  const goBack = () => navigate(-1);\n\n  const isCast = location.pathname.includes('cast');\n  const castLink = isCast ? `/movies/${movieId}` : `/movies/${movieId}/cast`;\n\n  const isReviews = location.pathname.includes('reviews');\n  const reviewsLink = isReviews\n    ? `/movies/${movieId}`\n    : `/movies/${movieId}/reviews`;\n\n  return (\n    <>\n      <main style={{ flexGrow: '1' }}>\n        <GoBackButtom onClick={goBack}>Go back</GoBackButtom>\n        <MovieDetailsStyle>\n          <img src={imgPoster} alt={title} />\n          <Box ml=\"20px\">\n            <h2>\n              {title} ({new Date(release_date).getFullYear()})\n            </h2>\n            <p>\n              <MovieDetailsTitle>Rating: </MovieDetailsTitle>\n              {vote_average.toFixed(1)}\n            </p>\n            <p>\n              <MovieDetailsTitle>Overview: </MovieDetailsTitle>\n              {overview}\n            </p>\n            <p>\n              <MovieDetailsTitle>Genres: </MovieDetailsTitle>\n              {genres.map(genre => (\n                <span key={genre.id}> {genre.name}</span>\n              ))}\n            </p>\n          </Box>\n        </MovieDetailsStyle>\n        <NavList>\n          <li>\n            <NavItemLink to={castLink}>Cast</NavItemLink>\n          </li>\n          <li>\n            <NavItemLink to={reviewsLink}>Reviews</NavItemLink>\n          </li>\n        </NavList>\n      </main>\n      <Outlet />\n    </>\n  );\n}\n"],"names":["API_KEY","BASE_URL","IMG_BASE_URL","searchImages","poster","searchMovies","query","axios","params","api_key","language","include_adult","data","getTrending","page","getMovieDetails","id","getMovieCast","getMovieReviews","GoBackButtom","styled","p","theme","colors","text","bg_dark","borders","none","transition","cubicBezier","transform","scaleThird","MovieDetailsStyle","primary","MovieDetailsTitle","NavList","NavItemLink","Link","MovieDetails","useState","movie","setMovie","movieId","useParams","navigate","useNavigate","location","useLocation","useEffect","then","catch","err","console","log","poster_path","title","vote_average","overview","genres","release_date","imgPoster","castLink","pathname","includes","reviewsLink","style","flexGrow","onClick","src","alt","Box","ml","Date","getFullYear","toFixed","map","genre","name","to"],"sourceRoot":""}