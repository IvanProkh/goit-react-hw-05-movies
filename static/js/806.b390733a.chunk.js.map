{"version":3,"file":"static/js/806.b390733a.chunk.js","mappings":"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","sources":["components/Reviews/Reviews.styled.js","components/Reviews/Reviews.js","components/services/DelayedRender.js","components/services/searchApi.js","components/services/toasts.js"],"sourcesContent":["import styled from 'styled-components';\n\nexport const ReviewsList = styled.div`\n  display: flex;\n  flex-direction: column;\n\n  margin: 10px 160px;\n\n  div {\n    margin: 10px 0px;\n  }\n\n  span {\n    color: ${p => p.theme.colors.primary};\n  }\n\n  p {\n    text-align: justify;\n  }\n`;\n\nexport const EmptyReviews = styled.p`\n  margin: 20px 0px;\n  text-align: center;\n  font-size: ${p => p.theme.fontSizes.m};\n`;\n","import { useEffect, useState } from 'react';\nimport { useParams } from 'react-router-dom';\nimport { ThreeCircles } from 'react-loader-spinner';\nimport { ThreeCirclesStyle } from '../../components/services/spinner';\nimport { toastError } from '../../components/services/toasts';\n\nimport { getMovieReviews } from '../services/searchApi';\nimport { DelayedRender } from '../services/DelayedRender';\n\nimport { ReviewsList, EmptyReviews } from './Reviews.styled';\n\nexport default function Reviews() {\n  const [reviews, setReviews] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const { movieId } = useParams();\n\n  useEffect(() => {\n    let timeoutId;\n    setLoading(true);\n\n    async function fetchData() {\n      try {\n        const res = await getMovieReviews(movieId);\n        setReviews(res.results);\n      } catch (error) {\n        toastError();\n      } finally {\n        setTimeout(() => setLoading(false), 300);\n      }\n    }\n\n    fetchData();\n\n    return () => {\n      clearTimeout(timeoutId);\n    };\n  }, [movieId]);\n\n  return (\n    <>\n      {loading && <ThreeCircles {...ThreeCirclesStyle} />}\n      {reviews && reviews.length > 0 ? (\n        <ReviewsList>\n          {reviews.map(({ id, author, content }) => {\n            return (\n              <div key={id}>\n                <h3>\n                  Author: <span>{author}</span>\n                </h3>\n                <p>{content}</p>\n              </div>\n            );\n          })}\n        </ReviewsList>\n      ) : (\n        <DelayedRender delay={300}>\n          <EmptyReviews>\n            ‚ùó‚ùó‚ùóSorry, we don't have any reviews for this movie‚ùó‚ùó‚ùó\n          </EmptyReviews>\n        </DelayedRender>\n      )}\n    </>\n  );\n}\n","import { useState, useEffect } from 'react';\n\nexport const DelayedRender = ({ children, delay }) => {\n  const [shouldRender, setShouldRender] = useState(false);\n\n  useEffect(() => {\n    const timeoutId = setTimeout(() => {\n      setShouldRender(true);\n    }, delay);\n\n    return () => {\n      clearTimeout(timeoutId);\n    };\n  }, [delay]);\n\n  return shouldRender ? children : null;\n};\n","import axios from 'axios';\n\n// axios.defaults.baseURL = `https://api.themoviedb.org/3`;\n\nconst API_KEY = '9beeda1ea4aae4d04f0fe1c9b0b0fd1d';\nconst BASE_URL = 'https://api.themoviedb.org/3';\n\nconst IMG_BASE_URL = `https://image.tmdb.org/t/p`;\n\nexport const searchImages = poster => {\n  return poster !== null\n    ? `${IMG_BASE_URL}/w400${poster}`\n    : 'https://sd.keepcalms.com/i-w400/keep-calm-poster-not-found.jpg';\n};\n\nexport const searchCastImage = poster => {\n  return poster !== null\n    ? `${IMG_BASE_URL}/w200${poster}`\n    : 'https://sd.keepcalms.com/i-w400/keep-calm-poster-not-found.jpg';\n};\n\nexport async function searchMovies(query) {\n  const { data } = await axios.get(`${BASE_URL}/search/movie`, {\n    params: {\n      api_key: `${API_KEY}`,\n      language: 'en-US',\n      query: `${query}`,\n      include_adult: 'false',\n      // page: `${currentPage}`,\n    },\n  });\n\n  return data;\n}\n\nexport async function getTrending() {\n  const { data } = await axios.get(`${BASE_URL}/trending/movie/day`, {\n    params: {\n      api_key: `${API_KEY}`,\n      page: 1,\n    },\n  });\n  return data;\n}\n\nexport async function getMovieDetails(id) {\n  const { data } = await axios.get(`${BASE_URL}/movie/${id}`, {\n    params: {\n      api_key: `${API_KEY}`,\n      language: 'en-US',\n    },\n  });\n  return data;\n}\n\nexport async function getMovieCast(id) {\n  const { data } = await axios.get(`${BASE_URL}/movie/${id}/credits`, {\n    params: {\n      api_key: `${API_KEY}`,\n      language: 'en-US',\n    },\n  });\n  return data;\n}\n\nexport async function getMovieReviews(id) {\n  const { data } = await axios.get(`${BASE_URL}/movie/${id}/reviews`, {\n    params: {\n      api_key: `${API_KEY}`,\n      language: 'en-US',\n      page: 1,\n    },\n  });\n  return data;\n}\n","import { toast } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\n\nconst toastSettings = {\n  theme: 'colored',\n};\n\nexport const toastSuccess = () => {\n  return toast.success(\n    'Hooray! We found what you were looking for ü§ó',\n    toastSettings\n  );\n};\nexport const toastInfoNothing = () => {\n  return toast.info(\n    'It looks like you want to find nothing, please check your query üòï',\n    toastSettings\n  );\n};\nexport const toastInfoDuplication = () => {\n  return toast.info(\n    'It looks like there are already movies found for your request, please check if this will be a new search ü§î',\n    toastSettings\n  );\n};\nexport const toastWarn = () => {\n  return toast.warn(\n    'Sorry, nothing was found for your request, try something else üôà',\n    toastSettings\n  );\n};\nexport const toastError = () => {\n  return toast.error(\n    'Oops, something went wrong, please try again üôä',\n    toastSettings\n  );\n};\n"],"names":["ReviewsList","styled","p","theme","colors","primary","EmptyReviews","fontSizes","m","Reviews","useState","reviews","setReviews","loading","setLoading","movieId","useParams","useEffect","getMovieReviews","res","results","toastError","setTimeout","fetchData","clearTimeout","timeoutId","ThreeCirclesStyle","length","map","id","author","content","DelayedRender","delay","children","shouldRender","setShouldRender","API_KEY","BASE_URL","IMG_BASE_URL","searchImages","poster","searchMovies","query","axios","params","api_key","language","include_adult","data","getTrending","page","getMovieDetails","getMovieCast","toastSettings","toastSuccess","toast","toastInfoNothing"],"sourceRoot":""}